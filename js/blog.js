//1k.js v2.01
$1k=function(){var C=function(){var a=navigator.userAgent.toLowerCase(),b={},c;(c=a.match(/msie ([\d.]+)/))?b.ie=c[1]:(c=a.match(/firefox\/([\d.]+)/))?b.firefox=c[1]:(c=a.match(/(?:opera.|opr\/)([\d.]+)/))?b.opera=c[1]:(c=a.match(/chrome\/([\d.]+)/))?b.chrome=c[1]:(c=a.match(/version\/([\d.]+).*safari/))?b.safari=c[1]:0;return b}(),bv=/MSIE\s*6.0/i.test(navigator.appVersion),bw=function(){var t,z=C.chrome;return function(f,g,h){var i=z?k.body:u;switch(arguments.length){case 0:return i['scrollTop'];case 1:return i['scrollTop']=f;default:var l=0,o=Math.ceil(g/15),p=i['scrollTop'],h=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},q=f-p;clearTimeout(t);function r(){t=setTimeout(function(){if(l<o){i['scrollTop']=h(l,p,q,o);r()}else{i['scrollTop']=f;clearTimeout(t)}l++},15)}r()}}}(),K=1,w=window,k=document,u=k.documentElement,F=k.head||G('head')[0],m=bi.prototype,Y=function(){return{extend:r};function r(){function q(a){if(this instanceof q){if(this.init){this.init.apply(this,a&&a.____?a.____:arguments)}}else{return new q({____:arguments})}}q.prototype=function(d,f){o.prototype=this.prototype;var g,h,i=new o,l;for(l in d){g=d[l];h=i[l];i[l]=Z(g)&&Z(h)&&/\._super\(/.test(g)?p(g,h):g}if(f){for(l in f){q[l]=f[l]}}i.constructor=q;i.superclass=this;return i;function o(){}function p(b,c){return function(){this._super=c;var a=b.apply(this,arguments);this._super=null;return a}}}.apply(this,arguments);q.extend=r;return q}}(),ba={},bj=function(){(bj=k.addEventListener?function(a,b,c){a.addEventListener(b=='mousewheel'&&k.mozHidden!==undefined?'DOMMouseScroll':b,c,false)}:function(a,b,c){a.attachEvent('on'+b,c)}).apply(null,arguments)},bx=function(){return w.XMLHttpRequest||function(){var a=[0,'Microsoft.XMLHTTP','Msxml2.XMLHTTP','Msxml2.XMLHTTP.6.0'],b=4,c;while(--b){try{new ActiveXObject(c=a[b]);return function(){return new ActiveXObject(c)}}catch(e){}}}()}(),L={Linear:function(a){return a},slowIn:function(a){return a*a},slowOut:function(a){return a*(2-a)},slowBoth:function(a){if((a/=0.5)<1)return 1/2*a*a;return-1/2*((--a)*(a-2)-1)},In:function(a){return a*a*a*a},Out:function(a){return-((a-=1)*a*a*a-1)},Both:function(a){if((a/=0.5)<1)return 1/2*a*a*a*a;return-1/2*((a-=2)*a*a*a-2)},fastIn:function(a){return a*a*a*a*a*a},fastOut:function(a){return-((a-=1)*a*a*a*a*a-1)},fastBoth:function(a){if((a/=0.5)<1)return 1/2*a*a*a*a*a*a;return-1/2*((a-=2)*a*a*a*a*a-2)},elasticIn:function(a){if(a==0)return 0;if(a==1)return 1;var b=0.3,c=b/4;return-(Math.pow(2,10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/b))},elasticOut:function(a){if(a==0)return 0;if(a==1)return 1;var b=0.3,c=b/4;return Math.pow(2,-10*a)*Math.sin((a-c)*(2*Math.PI)/b)+1},elasticBoth:function(a){if(a==0)return 0;if((a/=0.5)==2)return 1;var b=0.3*1.5,c=b/4;if(a<1)return-0.5*(Math.pow(2,10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/b));return Math.pow(2,-10*(a-=1))*Math.sin((a-c)*(2*Math.PI)/b)*0.5+1},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return((a=a-1)*a*((b+1)*a+b)+1)},backBoth:function(a){var b=1.70158;if((a/=0.5)<1)return 1/2*(a*a*(((b*=(1.525))+1)*a-b));return 1/2*((a-=2)*a*(((b*=(1.525))+1)*a+b)+2)},bounceIn:function(a){return 1-L.bounceOut(1-a)},bounceOut:function(a){if(a<(1/2.75)){return(7.5625*a*a)}else if(a<(2/2.75)){return(7.5625*(a-=(1.5/2.75))*a+0.75)}else if(a<(2.5/2.75)){return(7.5625*(a-=(2.25/2.75))*a+0.9375)}return(7.5625*(a-=(2.625/2.75))*a+0.984375)},bounceBoth:function(a){if(a<0.5)return L.bounceIn(a*2)*0.5;return L.bounceOut(a*2-1)*0.5+0.5}},bk={},bl={},by=Y.extend({init:function(a,b){this.elem=a;this.time=0;var c={before:0,after:0,runing:0,clone:0,lockx:0,locky:0,range:-1};for(var d in c){this['_'+d]=(d in b?b:c)[d]}this.addHand(b.hand||a)},addHand:function(a){x(a,'mousedown',this._beforeDrag,this)},rmvHand:function(a){x(a,'mousedown',this._beforeDrag,this)},_init:function(a){this._hasInit=1;var b=this.elem,c=b,d=M(b),f=n(b,'marginLeft'),g=n(b,'marginTop');if(this._clone){var h=bm(b,true);A(h,{position:'absolute',zIndex:9999,left:d.left-f,top:d.top-g,width:n(b,'width'),height:n(b,'height')});bn(k.body,h);c=this._clone=h}this._style=c.style;this._offsetX=a.clientX-c.offsetLeft+f;this._offsetY=a.clientY-c.offsetTop+g;this._before&&this._before.call(this,a);if(this._range==-1){this._minX=0;this._minY=0;this._maxX=u.clientWidth-c.offsetWidth-f-n(c,'marginRight');this._maxY=u.clientHeight-c.offsetHeight-g-n(c,'marginBottom')}else if(this._range){var i=G(this._range),l=M(i),o=i.offsetWidth,p=i.offsetHeight,q=n(i,'borderLeftWidth'),r=n(i,'borderRightWidth'),t=n(i,'borderTopWidth'),z=n(i,'borderBottomWidth');this._minX=l.left+q;this._minY=l.top+t;this._maxX=l.left+o-r-c.offsetWidth-f-n(c,'marginRight');this._maxY=l.top+p-z-c.offsetHeight-g-n(c,'marginBottom')}},_beforeDrag:function(a){if(a.mouseKey!='L'||(this._lockx&&this._locky)){return}a.stopPropagation();a.preventDefault();this._hasInit=0;if(C.ie){this._focusHand=a.target;x(this._focusHand,'losecapture',this._drop,this);this._focusHand.setCapture(false)}else{x(w,'blur',this._drop,this)}x(k,'mousemove',this._draging,this);x(k,'mouseup',this._drop,this)},_draging:function(a){var b=+new Date;if(b-this.time>15){this.time=b}else{return}w.getSelection?w.getSelection().removeAllRanges():k.selection.empty();!this._hasInit&&this._init(a);var c=a.clientX-this._offsetX,d=a.clientY-this._offsetY;if(this._range){c=Math.max(this._minX,Math.min(c,this._maxX));d=Math.max(this._minY,Math.min(d,this._maxY))}!this._lockx&&(this._style.left=c+'px');!this._locky&&(this._style.top=d+'px');this._runing&&this._runing.call(this,a)},_drop:function(a){H(k,'mousemove',this._draging,this);H(k,'mouseup',this._drop,this);if(C.ie){H(this._focusHand,'losecapture',this._drop,this);this._focusHand.releaseCapture()}else{H(w,'blur',this._drop,this)}this._after&&this._after.call(this,a);if(this._clone&&this._clone.parentNode){bo(this._clone)}},set:function(a){for(var b in a){this[b]=a[b]}},lock:function(){this._lockx=true;this._locky=true},unlock:function(){this._lockx=false;this._locky=false}});function bp(a,b,c){if(typeof a=='object'){for(var d in a){bp(d,a[d],b)}}else{if(typeof b!='undefined'){var f=a+"="+encodeURIComponent(b);if(b===null){c.expires=-1}else if(typeof c=='number'){c={expires:c}}else{c=c||{}}if(c.expires){var g=new Date;g.setTime(+g+c.expires*60*1000);f+="; expires="+g.toUTCString()}if(c.path){f+="; path="+c.path}if(c.domain){f+="; domain="+c.domain}k.cookie=f}else{return(v=k.cookie.match('(?:^|;)\\s*'+a+'=([^;]*)'))?decodeURIComponent(v[1]):null}}}function bz(){}function bb(c){var d=false,f=[],g=function(a){d?a(j):f.push(a)},h=function(){if(d)return;d=true;for(var a=0,b=f.length;a<b;a++){f[a](j)}if(k.removeEventListener){k.removeEventListener('DOMContentLoaded',h,false)}else if(k.attachEvent){k.detachEvent('onreadystatechange',h);if(timer){clearInterval(timer);timer=null}}f=null;h=null};if(k.readyState=='complete'){h()}else if(k.addEventListener){k.addEventListener('DOMContentLoaded',h,false)}else if(k.attachEvent){k.attachEvent('onreadystatechange',function(){/loaded|complete/.test(k.readyState)&&h&&h()});try{var i=w.frameElement==null}catch(e){}if(i){var timer=setInterval(function(){try{d||k.documentElement.doScroll('left')}catch(e){return}h()},16)}}(bb=g)(c)};function bA(a){var b={origin:a,type:a.type,keyCode:a.keyCode,clientX:a.clientX,clientY:a.clientY,target:a.target||a.srcElement,fromTarget:a.fromElement||(a.type=='mouseover'?a.relatedTarget:null),toTarget:a.toElement||(a.type=='mouseout'?a.relatedTarget:null),stopPropagation:function(){a.stopPropagation?a.stopPropagation():(a.cancelBubble=true)},mouseKey:(C.ie?{1:'L',4:'M',2:'R'}:{0:'L',1:'M',2:'R'})[a.button],preventDefault:function(){a.preventDefault?a.preventDefault():(a.returnValue=false)},delta:a.type=='mousewheel'?a.wheelDelta:a.type=='DOMMouseScroll'?a.detail*-40:null};return b}function x(c,d,f,g){if(!c.__EVENTID__){ba[c.__EVENTID__=++K]=[]}var h=ba[c.__EVENTID__];if(!h[d]){h[d]=[];bj(c,d,function(a){var b=h[d].slice(0);while(b[0]){b[0].func.call(b[0].context,bA(a));b.shift()}})}h[d].push({func:f,context:g||c});return this}function H(a,b,c,d){var f=ba[a.__EVENTID__][b],g=0;while(f[g]){if(f[g].func==c&&(f[g].context==(d||a)||(d.__DOM__&&d.elem==f[g].context.elem))){f.splice(g,1);break}g++}return this}function j(a,b){switch(N(a)){case'function':return bb(a);case'element':case'window':case'document':case'array':return new bi(a);case'string':if(a.indexOf('<')==0){return j(O(a))}return j(G(a,b))}return null}function bi(a){if(P(a)){this.elems=a;this.elem=a[0]}else{this.elem=a}this.__DOM__=1}function s(a,b,c,d){var f=a.call(this,this.elem,b,c,d);if(this.elems&&f==this){var g=1;while(this.elems[g]){a.call(this,this.elems[g],b,c,d);g++}return this}else{return f}}function O(a){if(bB(a))return a;if(bC(a))return a.elem;if(~a.indexOf('<')){var b=k.createElement('div');b.innerHTML=bc(a);return b.firstChild}else{return k.createElement(a)}}function bD(a,b){if(b==undefined){return a.parentNode}else if(b>0){b++;while(b--){a=a.parentNode}return a}else{b=b.match(/^(?:#([\w\-]+))?\s*(?:(\w+))?(?:.([\w\-]+))?(?:\[(.+)\])?$/);if(b){var c=b[1],d=b[2],f=b[3],g=b[4];d=d&&d.toUpperCase();g=g&&g.split('=')}else{return null}while(a=a.parentNode){if((!c||a.id==c)&&(!f||f&&V(a,f))&&(!d||a.nodeName==d)&&(!g||bd(a,g[0])==g[1])){return a}}}return null}function M(a){var b=0,c=0;if('getBoundingClientRect'in u){var d=a.getBoundingClientRect(),f=k.body,g=u.clientTop||f.clientTop||0,h=u.clientLeft||f.clientLeft||0,b=d.top+(w.pageYOffset||u&&u.scrollTop||f.scrollTop)-g,c=d.left+(w.pageXOffset||u&&u.scrollLeft||f.scrollLeft)-h}else{do{b+=a.offsetTop||0;c+=a.offsetLeft||0;a=a.offsetParent}while(a)}return{left:c,top:b,width:a.offsetWidth,height:a.offsetHeight}}function n(a,b){var c=+bE(A(a,b))||0;if(/^width|height|left|top$/.test(b)){switch(b){case'left':return c||a.offsetLeft-n(a,'marginLeft');case'top':return c||a.offsetTop-n(a,'marginTop');case'width':return c||(a.offsetWidth-n(a,'paddingLeft')-n(a,'paddingRight')-n(a,'borderLeftWidth')-n(a,'borderRightWidth'));case'height':return c||(a.offsetHeight-n(a,'paddingTop')-n(a,'paddingBottom')-n(a,'borderTopWidth')-n(a,'borderBottomWidth'))}}return c}function bF(a,b){if(b!=undefined){A(a,'left',b);return this}return n(a,'left')}function bG(a,b){if(b!=undefined){A(a,'top',b);return this}return n(a,'top')}function bH(a,b){if(b!=undefined){A(a,'width',b);return this}return n(a,'width')}function bI(a,b){if(b!=undefined){A(a,'height',b);return this}return n(a,'height')}function bJ(a,b){if(typeof b!='undefined'){return b==a.nodeName}return a.nodeName}function bK(a,b){if(b==undefined)return a.value.replace(/^\s+|\s+$/g,'');a.value=b;return this}function bm(a,b){a=a.cloneNode(b);return a}function bL(a,b){a.parentNode.replaceChild(O(b),a);return this}function bn(b,c,d){if(P(c)){var f=k.createDocumentFragment();y(c,function(a){f.appendChild(O(a))});c=f}else{c=O(c)}if(d==undefined){b.appendChild(c);return this}var g=b.children;if(d>-1){g=g[d]}else if(d<0){g=g[Math.max(g.length+d+1,0)]}if(g){g.parentNode.insertBefore(c,g)}else{b.appendChild(c)}return this}function bM(b,c){var d=typeof c,f='';if(d=='undefined'){return b.innerHTML}else if(d=='function'){f=c()}else if(d=='object'){y(c,function(a){f+=a})}else{f=c}if(b.nodeName=='SELECT'&&d!='undefined'&&C.ie){var g=document.createElement('span');g.innerHTML='<select>'+f+'</select>';b.innerHTML='';y(G('option',g),function(a){b.appendChild(a)})}else{b.innerHTML=f}return this}function bo(a){a.parentNode.removeChild(a);return this}function bd(a,b,c){if(c===null){a.removeAttribute(b)}else if(c!=undefined){if(typeof b=='object'){for(var d in b){bd(a,d,b[d])}}else{if(b=='style'){a.style.cssText=c}else{if(a[b]!=undefined){a[b]=c}else{a.setAttribute(b,c,2)}}}}else{if(b=='style'){return a.style.cssText}else{if(b=='href'&&a.nodeName=='A'){return a.getAttribute(b,2)}else{if(a[b]!=undefined){return a[b]}else{var f=a.getAttribute(b);return f==null?void(0):f}}}}return this}function Q(a,b){if(b==a)return 1;return a.contains?a.contains(b)?2:0:a.compareDocumentPosition(b)?2:0;return 0}function G(){var R=/^([#.])?([\w\-]+|\*)$/,S=/^(?:#([\w\-]+))|([\w-]+)?(?:\.([\w\-]+))?(?:\[(.+)\])?$/,D=/(?:[\w\-]+)?(?:\.[\w\-]+)?(?:\[.+\])?/.source,be=RegExp('^(#[\\w\\-]+|'+D+')(?:\\s+('+D+'))$'),bf=k.querySelectorAll,I=0;return(G=B).apply(null,arguments);function B(b,c){var d,f,g=R.exec(b),h,i;if(g){h=g[1];i=g[2];if(h=='#'){return k.getElementById(i)}if(h=='.'){if(k.getElementsByClassName){return W((c||k).getElementsByClassName(i))}else{return bq(B('*',c),i)}}return W((c||k).getElementsByTagName(i))}if(bf){if(c&&c.nodeType!=9){var l=c.id,o='_queryFix_';b='#'+(c.id=o)+' '+b}(f=(c||k).querySelectorAll(b))&&(f=J(f));o&&(l?(c.id=l):c.removeAttribute('id'));return f.length?f:null}else{if(~b.indexOf(',')){d=[];E(b.split(','),function(a){(f=B(a,c))&&(f.length?(d=d.concat(f)):d.push(f))});return d.length?J(d):null}else{g=be.exec(b);if(g){h=g[1];i=g[2];f=B(h,c);if(f){if(i){d=[];var p;E(f.length?f:[f],function(a){(p=B(i,a))&&(p.length?(d=d.concat(p)):d.push(p))});return d.length?J(d):null}else{return f}}return null}else{g=S.exec(b);if(g){var q=g[1],r=g[2],t=g[3],z=g[4];if(q){return B(q)}f=B(r||'*',c);t&&(f=bq(f,t));z&&(f=bN(f,z));return f}return null}}}}function E(a,b){if(a&&a.length){for(var c=0,d=a.length;c<d;c++){b(a[c],c)}}}function W(b){if(!b){return null}var c=[];if(+[1,]){c=[].slice.call(b,0)}else{E(b,function(a){c.push(a)})}return c.length?c:null}function J(b){++I;var c=[];E(b,function(a){if(a._forUnique_!=I){a._forUnique_=I;c.push(a)}});return c}function bq(b,c){var d=RegExp('(^|\\s+)'+c+'($|\\s+)'),f=[];E(b,function(a){d.test(a.className)&&f.push(a)});return f.length?f:null}function bN(b,c){var d=[],f,g;c=c.split('=');if(c.length==2){f=c[0];g=c[1]||''}E(b,function(a){if(g){(a.getAttribute(f)==g)&&d.push(a)}else{a.hasAttribute(c)&&d.push(a)}});return d.length?d:null}}function bO(a){while(a=a.previousSibling){if(a.nodeType==1){return a}}}function bP(a){while(a=a.nextSibling){if(a.nodeType==1){return a}}}function bQ(b,c){var d=b.children;if(c>-1){d=d[c]}else if(c<0){d=d[d.length+c]}else if(typeof c=='string'){var f=[];y(G(c,b)||f,function(a){(a.parentNode==b)&&f.push(a)});return f.length?f:null}return d}function bR(a){a.style.display='block';return this}function bS(a){a.style.display='none';return this}function T(a,b){if(C.ie&&C.ie<9){var c=a.currentStyle.filter,d=c&&/alpha/i.test(c),f;if(b===undefined){if(d){return+c.match(/opacity[\s:=]+(\d+)/i)[1]/100}return 1}if(b>=1||b==null){f=c.replace(/alpha[^\)]+\)/i,'')}else{b=Math.round(b*100);if(d){f=c.replace(/(opacity\D+)\d+/i,'opacity='+b)}else{f=c+' alpha(opacity='+b+')'}}a.style.filter=f}else{if(b===undefined){return(b=+A(a,'opacity'))>-1?b:1}a.style.opacity=b}return this}function V(a,b){return RegExp('(^|\\s)'+b+'($|\\s)').test(a.className)}function br(c,d,f){if(f){if(c.className){c.className=(' '+c.className+' ').replace(RegExp('\\s+('+f+')(?=\\s+)'),d).replace(/^\s+|\s+$/g,'')}}else if(d){var g=d.charAt(0),h=d.substr(1);if(/[+~-]/.test(g)){var i=c.className;h=h.split(',');switch(g){case'+':if(i){y(h,function(a,b){if(!V(c,a)){c.className+=' '+a}})}else{c.className=h.join(' ')}break;case'-':if(i){c.className=(' '+i+' ').replace(RegExp('\\s+('+h.join('|')+')(?=\\s+)','g'),'').replace(/^\s+|\s+$/g,'')}break;case'~':if(i){y(h,function(a,b){if(!V(c,a)){c.className+=' '+a}else{br(c,'-'+a)}})}else{c.className=h.join(' ')}break}}else if(g=='='){c.className=h;return this}else{h=d.split(',');var l=true;y(h,function(a,b){return!(l=l&&V(c,a))});return l}}else{return c.className}return this}function bE(a){return/px$/.test(a)?parseFloat(a):a}function bs(c){if(c=='float'){return w.getComputedStyle?'cssFloat':'styleFloat'}return c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})}function A(b,c,d){if(d!==undefined){c=='opacity'&&C.ie<9?T(b,d):(b.style[c=bs(c)]=d<0&&/width|height|padding|border/.test(c)?0:d+(/width|height|left|top|right|bottom|margin|padding/.test(c)&&/^[\-\d.]+$/.test(d)?'px':''))}else if(typeof c=='object'){for(var f in c){A(b,f,c[f])}}else{if(~c.indexOf(':')){y(c.replace(/;$/,'').split(';'),function(a){a=a.split(':');A(b,a.shift(),a.join(':'))})}else{return c=='opacity'&&C.ie<9?T(b):b.style&&b.style[c=bs(c)]||(b.currentStyle||getComputedStyle(b,null))[c]}}return this}function y(a,b,c){if(P(a)){for(var d=0,f=a.length;d<f;d++){if(b.call(c,a[d],d)){break}}}else{for(var d in a){if(b.call(c,a[d],d)){break}}}}function bT(a){switch(typeof a){case'object':if(a==null){return a}var b,c=[];if(Object.prototype.toString.apply(a)=='[object Array]'){for(var d=0,f=a.length;d<f;d++){c[d]=arguments.callee(a[d])}return'['+c.join(',')+']'}for(d in a){c.push('"'+d+'":'+arguments.callee(a[d]))}return'{'+c.join(',')+'}';case'function':a=''+a;case'string':return'"'+a.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\r/g,'\\r').replace(/\n/g,'\\n')+'"';case'number':case'boolean':case'undefined':return a}return a}function U(a,b){var c=[];if(typeof a=='object'){for(var d in a){if(/^e_/.test(d)){c.push(d.substr(2)+'='+bt(a[d]))}else{c.push(d+'='+a[d])}}}if(b)c.push('t='+(+new Date));return c.join('&')}function bU(a,b){for(var c in b){a[c]=b[c]}}function P(a){return N(a)=='array'}function Z(a){return typeof a=='function'}function bB(a){return N(a)=='element'}function bC(a){return a&&a.__DOM__}function bu(a){return N(a)=='object'}function N(a){var b=typeof a;if(b=='object'){if(a===null){return'null'}else if(a==w||a==a.window){return'window'}else if(a==k||a.nodeType===9){return'document'}b={}.toString.call(a).match(/\w+(?=\])/)[0].toLowerCase();if(~b.indexOf('element')||b=='object'&&a.nodeType===1){return'element'}}return b}function bg(a){var b=+new Date,c=new bx,d=a.callback,f=a.headers,g;c.open(a.type||'get',a.url,a.async||true);for(g in f){c.setRequestHeader(g,f[g])}c.onreadystatechange=function(){c.readyState==4&&d&&d(c.status==200?a.responseType?c[a.responseType]:c:null)};c.send(a.data||null)}function bV(b,c,d){bg({url:b,type:'post',data:bu(d)?U(d):d,callback:function(a){c(bh(a))},responseType:'responseText',headers:{'Content-Type':'application/x-www-form-urlencoded'}})}function bW(b,c,d){bg({url:b+(d?'?'+(bu(d)?U(d):d):''),callback:function(a){c(bh(a))},responseType:'responseText'})}function bX(b,c){var d=new Image;d.src=b;if(d.complete){return f(d)}d.onload=function(){f(d)};d.onerror=function(){f(null)};function f(a){d.onload=d.onerror=null;c&&c(a,a)}return this}function bY(a,b,c,d){var f=k.createElement('script');c&&(a+='?'+(typeof c=='object'?U(c):c));d&&(f.charset=d);f.src=a;f.readyState?f.onreadystatechange=function(){/loaded|complete/.test(f.readyState)&&g()}:f.onload=g;F.appendChild(f);return this;function g(){b&&b();F.removeChild(f);f.onload=f.onreadystatechange=null}}function bZ(a){P(a)&&(a=a.join(''));if(/{[\w\W]+?}/.test(a)){var b=k.createElement('style');b.type='text/css';b.styleSheet&&(b.styleSheet.cssText=a)||b.appendChild(k.createTextNode(a))}else{b=k.createElement('link');b.rel='stylesheet';b.href=arg1}F.appendChild(b);return this}function ca(b,c,d,f){var g=k.createElement('script'),h='json'+(++K),i=setTimeout(function(){F.removeChild(g);delete w[h]},f||10000);w[h]=function(a){clearTimeout(i);c(a)};g.src='http://jsonp2.1kjs.com/?'+U({charset:d||'utf-8',callback:h,e_url:b},true);d&&(g.charset=d);F.appendChild(g);if(g.readyState){g.onreadystatechange=function(){if(g.readyState=='loaded'||g.readyState=='complete'){F.removeChild(g)}}}else{g.onload=function(){F.removeChild(g)}}return this}function cb(a){return a.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function cc(a){return a.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&')}function bt(a){return a.replace(/%/g,'%25').replace(/ /g,'%20').replace(/#/g,'%23').replace(/&/g,'%26').replace(/=/g,'%3D').replace(/\//g,'%2F').replace(/\?/g,'%3F').replace(/\+/g,'%2B')}function bc(a){return a.replace(/^\s+|\s+$/g,'')}function bh(a){try{a=bc(a);if(!a.replace(/"(?:\\\\|\\\"|[^"])*"|[\s{}\[\]:\d.,]+|true|false/g,'')){return Function('return '+a)()}}catch(e){}throw new SyntaxError('JSON.parse');}function cd(D,be,bf){var I;var B;E(be,bf||{});return{play:E,stop:function(){J();B&&B()}};function E(c,d){if(typeof d=='number'){d={dur:d}}d.onbefore&&d.onbefore();B=d.onstop;var f=D.style;var g=L[d.easing]||L.Both;var h=d.onplay;var i=d.ondone;var l=d.dur||800;var o=+new Date;var p;var q=0;var r=W(c);var c=r.attrs;var t=r.from;var z=r.by;var R=r.fixAttrs;var S=Math.ceil;I=X(function(){p=(+new Date-o)/l;if(p>=1){p=1;J()}else{p=~~(g(p)*10000)/10000}if(q!=p){q=p;var a,b=0;while(a=c[b]){f[a]=S(t[b]+p*z[b++])+'px'}if(a=R.opacity){T(D,a.from+p*a.by)}h&&h();if(p==1){i&&i()}}})}function W(a){var b=[];var c=[];var d=[];var f={};var g;var h;var i;var l;for(var o in a){g=a[o];if(typeof g!='number'){g=parseInt(g)}if(l=o.indexOf('x')==0){o=o.substr(1);h=n(D,o);i=g}else{h=n(D,o);i=g-h}if(/opacity/.test(o)){var h=T(D);f['opacity']={from:h,by:l?i:g-h}}else{b.push(o);c.push(h);d.push(i)}}return{attrs:b,from:c,by:d,fixAttrs:f}}function J(){X.clear(I)}}function X(h,i){var l=[],o={},p,q=[],r={execTime:0,list:[],fps:0};X=t;t.clear=z;t.info=D;return t(h,i);function t(a,b){z(b);var c=++K;o[c]=1;l.push({id:c,fn:a});if(l.length==1){R()}return c}function z(a){if(o[a]){delete o[a];var b,c=0;while(b=l[c++]){if(b.id==a){l.splice(c-1,1);break}}if(l.length==0){S()}}}function R(){function f(){for(var a=0,b=l.length;a<b;a++){var c=l[a];c&&c.fn()}}function g(){var a=+new Date;f();var b=+new Date;p=setTimeout(g,Math.max(0,15-(b-a)));return;var c,d=0;while(c=q[d++]){if(b-c<1000){break}q.shift()}q.push(b);r.execTime=b-a;r.fps=q.length;r.list=l}g()}function S(){clearTimeout(p)}function D(){return r}}X.clear=bz;function ce(d,f,g){var h,i={};for(h in f){i[h]=n(d,h)}if(f.opacity>-1){f.opacity=Math.round(f.opacity*100);i.opacity=Math.round(i.opacity*100)}clearInterval(d._animTimer_);d._animTimer_=setInterval(function(){var a=1,b,c;for(b in f){if(f[b]!=i[b]){a=0;c=(f[b]-i[b])/8;i[b]+=c>0?Math.ceil(c):Math.floor(c);A(d,b,b=='opacity'?i[b]/100:i[b])}}if(a){clearInterval(d._animTimer_);g&&g()}},15)}j.Class=function(a,b){return Y.extend(a,b)};j.widget=function(a,b,c){if(typeof b=='function'){return j[a]=b(j)}else if(typeof b=='object'){return j[a]=Y.extend(b,c)}};j.query=G;m.eq=function(a){if(a<0)a=this.elems.length+a;return j(this.elems[a])};m.find=function(a){return j(a,this.elem)};m.parent=function(a){return j(bD(this.elem,a))};m.child=function(a){return j(bQ(this.elem,a))};m.prev=function(){return j(bO(this.elem))};m.next=function(){return j(bP(this.elem))};m.filter=function(d){if(this.elems){var f=[];y(this.elems,function(a,b){var c=j(a);if(d.call(null,c,b)){f.push(a)}});if(f.length){return j(f)}return null}else{if(!d.call(null,this,0)){return null}return j(this.elem)}};j.elem=function(a){return j(O(a))};m.append=function(a,b){return s.call(this,bn,a,b)};m.insert=function(a,b){return s.call(this,$insert,a,b)};m.remove=function(){return s.call(this,bo)};m.clone=function(a){return j(bm(this.elem,a))};m.replace=function(a){return s.call(this,bL,a)};m.each=function(c){if(this.elems){y(this.elems,function(a,b){return c.call(j(a),b)})}else if(this.elem){c.call(this,0)}return this};m.cls=function(a,b){return s.call(this,br,a,b)};m.css=function(a,b){return s.call(this,A,a,b)};m.px=function(a){return n(this.elem,a)};m.left=function(a){return s.call(this,bF,a)};m.top=function(a){return s.call(this,bG,a)};m.width=function(a){return s.call(this,bH,a)};m.height=function(a){return s.call(this,bI,a)};m.offset=function(){return M(this.elem)};m.offsetLeft=function(){return M(this.elem).left};m.offsetTop=function(){return M(this.elem).top};m.offsetWidth=function(){return this.elem.offsetWidth};m.offsetHeight=function(){return this.elem.offsetHeight};m.opacity=function(a){return s.call(this,T,a)};m.show=function(){return s.call(this,bR)};m.hide=function(){return s.call(this,bS)};j.ready=function(a){bb(a)};m.on=function(a,b,c){var d=x.call(this,this.elem,a,b,c||this);if(this.elems&&d==this){var f=1;while(this.elems[f]){x.call(this,this.elems[f],a,b,c||this.eq(f));f++}return this}else{return d}};m.un=function(a,b,c){var d=H.call(this,this.elem,a,b,c||this);if(this.elems&&d==this){var f=1;while(this.elems[f]){H.call(this,this.elems[f],a,b,c||this.eq(f));f++}return this}else{return d}};m.click=function(a,b){var c=x.call(this,this.elem,'click',a,b||this);if(this.elems&&c==this){var d=1;while(this.elems[d]){x.call(this,this.elems[d],'click',a,b||this.eq(d));d++}return this}else{return c}};m.hover=function(d,f,g){var h,i=this;if(this.elems){var l=0;while(h=this.elems[l]){!function(b){var c=b.elem;x(c,'mouseover',function(a){if(a.fromTarget&&!Q(c,a.fromTarget)||!a.fromTarget)d.call(g||b,a)},g||b);x(c,'mouseout',function(a){if(!a.toTarget||!Q(c,a.toTarget))f.call(g||b,a)},g||b)}(this.eq(l));l++}}else{h=this.elem;x(h,'mouseover',function(a){if(a.fromTarget&&!Q(h,a.fromTarget)||!a.fromTarget)d.call(g||i,a)},g||i);x(h,'mouseout',function(a){if(!a.toTarget||!Q(h,a.toTarget))f.call(g||i,a)},g||i)}return this};m.attr=function(a,b){return s.call(this,bd,a,b)};m.html=function(a){return s.call(this,bM,a)};m.tag=function(a){return bJ(this.elem,a)};m.contains=function(a){return Q(this.elem,a)};m.val=function(a){return s.call(this,bK,a)};m.length=function(){return this.elems.length||1};j.browser=C;j.isIE6=bv;j.cookie=bp;j.scrollTop=function(){return bw.apply(this,arguments)};j.scrollLeft=function(){return u.scrollLeft+k.body.scrollLeft};j.docWidth=function(){return u.clientWidth};j.docHeight=function(){return u.clientHeight};j.scrollWidth=function(){return u.scrollWidth};j.scrollHeight=function(){return Math.max(u.scrollHeight,k.body.scrollHeight)};j.ajax=bg;j.post=bV;j.get=bW;j.img=bX;j.js=bY;j.jsonp2=ca;j.style=bZ;j.type=N;j.isArray=P;j.isFunction=Z;j.echo=function(){};j.each=y;j.toJson=function(a){if(w.JSON&&JSON.stringify){return JSON.stringify(a)}return bT(a)};j.param=U;j.mix=bU;j.tirm=bc;j.parseJson=function(a){if(w.JSON&&JSON.parse){return JSON.parse(a)}return bh(a)};j.encodeURL=bt;j.encodeHTML=cb;j.decodeHTML=cc;m.Anim=function(d,f){y(this.elems||[this.elem],function(a,b){var c=a.__ANIMID__;if(!c){c=a.__ANIMID__=++K}else{bk[c].stop()}bk[c]=cd(a,d,f)});return this};m.Drag=function(a){if(!this.elem.__DRAGID__){bl[this.elem.__DRAGID__=++K]=by(this.elem,a||{})}return bl[this.elem.__DRAGID__]};m.anim=function(a,b){ce(this.elem,a,b)};return j}();Z=$1k;

$1k.widget('highlight',function(f){var q,v,w,B,r,x,s={js:y,html:C,css:z},t={};function D(){q=f('textarea.lang-js,textarea.lang-html,textarea.lang-css')}function E(a){r={edit:a.edit||'on',skin:a.skin||'default'}}function F(){f.style('.Zwhl_wrap .codesourcebox{border:1px solid #999;margin: 3px;overflow:hidden;padding:3px;font-size:12px;}textarea.lang-js,textarea.lang-css,textarea.lang-html,.Zwhl_wrap .codesourcebox textarea{font:12px/1.6 Monaco,"Lucida Console","Consolas","Courier New",Courier,mono,serif;border:0;min-height:360px;_height:360px;display:block;width:100%;resize:none;outline:none;}.Zwhl_wrap .codesourcebox{display:none;}.Zwhl_wrap .codesourcebox .btnbox{border-top:1px solid #999;padding-top:3px;}.Zwhl_wrap .codesourcebox button{padding:0 6px;}.Zwhl_wrap .codeviewbox ol{font:12px/2 monaco,"Courier New",verdana,Helvetica,Tahoma,Arial,sans-serif;word-wrap:break-word;word-break:break-all;display:inline-block\9;}.Zwhl_wrap ol{margin:0;padding:0;padding:4px 8px}.Zwhl-edit{border:1px solid #999;background:#eee;}.Zwhl-edit .codeviewbox{display:none;}.Zwhl-edit span{color:green;padding-left:1em;}.Zwhl-edit .codesourcebox{display:block;background:#fff;}.Zwhl_menu{position:absolute;background:#FFFFFF;border:1px solid #999;font-size:12px;top:0;left:-999px;padding:1px;width:100px;}.Zwhl_menu a{display:block;padding:3px 12px;color:#333;text-decoration:none!important;}.Zwhl_menu a:hover{background:#316AC5;color:#fff;}.Zwhl_run{z-index:9999;display:none;position:absolute;position:fixed;left:0;top:0;width:100%;height:400px;background:#fff;}.Zwhl_run .closebar{margin:3px auto;width:400px;padding:8px;font-size:12px;font-weight:bold;cursor:pointer;text-align:center;background:#fefefe;border:1px solid #999;color:#FF0000;}.Zwhl_run .closebar:hover{background:#feefff;}.Zwhl_run iframe{border-top:1px solid #000}'+(function g(){var a={'black':['padding:2px 0 2px 4em;background:#060606;color:#eee;','background:#222;padding:0 0 0 5px;border-left:1px solid #333;','119BEE,666666,89D726,89D726,FE81F8,119BEE,89D726,86CC99,B7B700,FE81F8,119BEE,89D726'],'default':['background:#eee;border-radius:8px;border:1px solid #3C78B5;padding-left:4em;margin:12px 0;','line-height:1.8;border-left:1px dotted #3C78B5;padding-left: 6px;','0000C6,666666,FF0000,008074,0000C6,B0812C,666666,FF0000,008074,008074,FF0000,666666'],'bop':['padding:2px 0 2px 52px;background:#060606;color:#eee;','background:#222;padding:0 0 0 5px;border-left:1px solid #333;','efac32,d9d762,6c99bb,efac32,ef5d32,808000,d9d762,6c99bb,8856d2,efac32,c0c0c0,d9d762']};var c=[];var d=['tag','attrval','attrkey','doctype','keyword','comment','quote','number','regexp','csssel','csskey','cssval'];for(var b in a){var e=a[b];c.push('.Zwhl-skin-'+b+' ol{'+e[0]+'}');c.push('.Zwhl-skin-'+b+' li{'+e[1]+'}');var i=e[2].split(',');var h=0;while(d[h]){c.push('.Zwhl-skin-'+b+' .'+d[h]+'{color:#'+i[h++]+'}')}}return c.join('')})()+'')}function G(){v=/(?:\$[\w$]+)|(?:\+\+|--)|(?:([-+*^{[(~:=?,!|]|\/\s+)|([<>&])|(typeof|void|return|in|throw|case))(?:(\s+)|(\s*(?:\/\*(?:[\w\W](?!\*\/))*?\*\/|\/\/.+\n+)\s*))?(\/(?![\*\/])(?:\\\\|\\\/|\\\[|\[.+?\]|[^\/\r\n])+\/[gim]*)|(boolean|break|byte|case|catch|char|class|const|continue|default|double|do|else|extends|false|finally|final|float|for|function|goto|if|implements|import|instanceof|interface|int|in|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|typeof|this|throw|throws|transient|true|try|var|void|while|with)(?![\w$])|(?:[a-zA-Z_][\w]*)|(0x[0-9a-fA-F]+|(?:\d+\.\d*|\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)|('(?:\\\\|\\\'|[^']|\\\n)*'|"(?:\\\\|\\\"|[^"]|\\\n)*")|(\/\*[\w\W]*?\*\/|\/\/.*)|([<>&\s]+)/g;w=/<(script|style|textarea)((?:"[^"]+"|'[^']+'|[^>]+)*)>([\s\S]*?)<\/\1>|<\/(\w+)>|(?:<(\w+)((?:(?:"[^"]*"|'[^']*'|[^>])+)*)>)|(<!--[\s\S]*?-->)|(<!doctype[^>]*?>)|(\n+)|(<|[>& ]+)/gi;B=/{$getReg.css}/g}function H(){var d;var b;f('body').append(d=f('<div class="Zwhl_menu"><a href="#" jbtn="edit">\u7F16\u8F91\u4EE3\u7801</a><a href="#" jbtn="run">\u8FD0\u884C\u4EE3\u7801</a><a href="http://www.1kjs.com/lib/widget/highlight/" target="_blank">\u5173\u4E8E\u63D2\u4EF6</a></div>'));d.click(function(a){d.left(-1999);switch(f(a.target).attr('jbtn')){case'edit':a.preventDefault();b.cls('~Zwhl-edit');f.scrollTop(b.offsetTop()-120,1000);break;case'run':a.preventDefault();t[b.type](b.find('textarea').val());break;default:return}a.preventDefault();a.stopPropagation()}).on('contextmenu',function(a){a.preventDefault()});f(document).click(function(a){if(!d.contains(a.target)){d.left(-200)}});x={show:function(a,c){b=c;d.left(a.clientX+4);d.top(a.clientY+f.scrollTop()+4)}}}function I(){var d=f('<div class="Zwhl_run"><div class="closebar">\u70B9\u51FB\u5173\u95ED</div></div>');var b=document.documentElement;var e;var i;var h=0;f('body').append(d);f.isIE6&&d.css('position:absolute');t={js:function(a){e&&e.remove();d.append(e=f('<iframe name="Zwhl_run" frameborder="0" width="100%"></iframe>'));var c=window.open('','Zwhl_run');c.document.write('<script>!function(){'+a+'\n}()</script>');c.document.close()},html:function(a){e&&e.remove();d.append(e=f('<iframe name="Zwhl_run" frameborder="0" width="100%"></iframe>'));f('html').css('overflow','hidden');h=1;g();i=Math.max(b.scrollTop,document.body.scrollTop);f.isIE6&&d.css('top',i);d.show();var c=window.open('','Zwhl_run');c.document.write(a);c.document.close()}};function g(){if(h){d.css({width:b.clientWidth,height:b.clientHeight});e.height(b.clientHeight-40)}}f(window).on('resize',g);d.child(0).click(function(){f('html').css('overflow','');b.scrollTop=document.body.scrollTop=i;d.hide();e.remove();e=null;h=0})}function J(){q.each(function(){var b=this.cls().match(/lang-(js|html|css)/)[1];var e=this.attr('skin')||r.skin;var i=this.attr('edit')||r.eidt;var h=function(c){var d=Array(8).join('    ');c=c.replace(/\t/g,'    ').replace(/\s+$/,'');if(!/^\S/m.test(c)){c.replace(/^\s+/gm,function(a){if(a.length<d.length)d=a});c=c.replace(RegExp('^'+d,'gm'),'')}return c}(this.elem.value);this.elem.value=h;if(i=='off'||b=='css'){this.replace('<div class="Zwhl_wrap Zwhl-skin-'+e+'"><div class="codeviewbox">'+s[b](h)+'</div></div>')}else{var g=f('<div class="Zwhl_wrap Zwhl-skin-'+e+'" title="\u70B9\u51FB\u53F3\u952E\u8FD0\u884C\u4EE3\u7801"><div class="codesourcebox"><textarea>'+h+'</textarea><div class="btnbox"><button>\u52A0\u4EAE\u4EE3\u7801</button><button>\u6267\u884C\u4EE3\u7801</button><span>\u63D0\u793A\uFF1A\u4F60\u53EF\u4EE5\u5148\u4FEE\u6539\u4EE3\u7801\u518D\u6267\u884C\u64CD\u4F5C\uFF01</span></div></div><div class="codeviewbox">'+s[b](h)+'</div></div>');this.replace(g);var l=g.child(1).on('contextmenu',function(a){g.type=b;x.show(a,g);a.preventDefault()}),j=g.find('textarea');g.find('button').each(function(a){this.click(function(){if(a){t[b](j.val())}else{l.html(s[b](j.elem.value));g.cls('~Zwhl-edit')}})})}})}function y(o){return'<ol><li>'+o.replace(/\r/g,'').replace(/\t/g,'    ').replace(v,function(a,c,d,b,e,i,h,g,l,j,m,n){switch(!1){case!h:return(c||'')+k(d)+'<span class="keyword">'+(b||'')+'</span>'+(e||'').replace(/\n/g,'</li><li>').replace(/\s/g,'&nbsp;')+'<span class="comment">'+k(i).replace(/\n/g,'</span></li><li><span class="comment">')+'</span><span class="regexp">'+k(h)+'</span>';case!g:return'<span class="keyword">'+g+'</span>';case!l:return'<span class="number">'+l+'</span>';case!j:return'<span class="quote">'+k(j).replace(/\n/g,'</span></li><li><span class="quote">')+'</span>';case!m:return'<span class="comment">'+k(m).replace(/\n/g,'</span></li><li><span class="comment">')+'</span>';case!n:return k(n).replace(/\n/g,'</li><li>')}return a})+'</li></ol>'}function C(o){return'<ol><li>'+o.replace(/\r/g,'').replace(/\t/g,'    ').replace(w,function(a,c,d,b,e,i,h,g,l,j,m,n){switch(!1){case!c:if(c=='script'){b=y(b).replace(/<ol><li>|<\/li><\/ol>/g,'')}else if(c=='style'){b=z(b).replace(/<ol><li>|<\/li><\/ol>/g,'')}else{b=k(b).replace(/\n/g,'</li><li>')}return'<span class="tag">&lt;'+c+A(d)+'&gt;</span>'+b+'<span class="tag">&lt;/'+c+'&gt;</span>';case!e:return'<span class="tag">&lt;/'+e+'&gt;</span>';case!i:return'<span class="tag">&lt;'+i+A(h)+'&gt;</span>';case!g:return'<span class="comment">'+k(g).replace(/\n/g,'</span></li><li><span class="comment">')+'</span>';case!l:return'<span class="doctype">'+k(l)+'</span>';case!j:return j.replace(/\n/g,'</li><li>');case!m:return k(m)}return a})+'</li></ol>'}function z(u){u=u.replace(/\t/g,'    ').replace(/(\{[^\}]*\})|(\/\*[\w\W]*?\*\/)|(\n)|([^\n\{\}]+)/g,function(g,l,j,m,n,o){switch(!1){case!l:return g.replace(/([^{\n;]+?:[^}\n;]+)|(\n)|(\/\*[\w\W]*?\*\/)|( )/g,function(a,c,d,b,e){switch(!1){case!c:var i=c.split(':')[0],h=c.replace(/[^:]+:/,'');return'<span class="csskey">'+p(i)+'</span>:<span class="cssval">'+h+'</span>';case!d:return'</li><li>';case!b:return'<span class="comment">'+p(b)+'</span>';case!e:return'&nbsp;'}});case!j:return'<span class="comment">'+p(j)+'</span>';case!m:return'</li><li>';case!n:return n.replace(/(\/\*[\w\W]*?\*\/)|( )|(\t)|([^{]+)/g,function(a,c,d,b,e){if(c){return'<span class="comment">'+p(c)+'</span>'}else if(d){return'&nbsp;'}else if(b){return'&nbsp;&nbsp;&nbsp;&nbsp;'}else if(e){return'<span class="csssel">'+e+'</span>'}})}});return'<ol><li>'+u+'</li></ol>';function p(a){return a.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/\s/g,'&nbsp;').replace(/</g,'&lt;')}}function k(a){return a?a.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/ /g,'&nbsp;'):''}function A(b){return b?b.replace(/([-\w]+\s*=\s*)('[^']*'|"[^"]*"|[^\s'"]*)/g,function(a,c,d){return'<span class="attrkey">'+c+'</span><span class="attrval">'+k(d)+'</span>'}):''}return{init:function(a){f(function(){D();if(q){E(a||{});F();G();H();I();J()}})}}});

if(Z.browser.ie && parseInt(Z.browser.ie) < 9){//ie6-8?html5?

	Z.each('abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video'.split(','), function(val, i){
		document.createElement(val);
	});
	Z.style('article,aside,footer,header,nav,section,hgroup{display:block}details,dialog,output,time{display:inline;}');
}

Z.highlight.init({});



Z(function(){
/*
	if(Z.browser.ie && parseInt(Z.browser.ie) < 8){//?
		Z('a').attr('hideFocus', 1);
	}
*/
	if(!Z('#post'))return;
	var Sidebar = function(){
		var followSpace = 8,//
            isShow = true, //???
            isFollow = false, //??
            reFollowDelay,//??
            sidebar,
            post,
            h3wrap,//§Öh3?
            h3,
            sidebarWidth,
            focusIndex = -1,//??
            sidebarHeight;
		return{
			init: function(){
				Z('body').append('<div id="sidebar"><ul></ul><a class="back" href="javascript:history.go(-1);void(0)">Back</a></div>');
				sidebar = Z('#sidebar');
				post = Z('#post');
				h3wrap = sidebar.find('ul');
				
				Sidebar.setH3();
				sidebarWidth = sidebar.width(),
				sidebarHeight = sidebar.height();
				Sidebar.callResize();
				Sidebar.callScroll();
				Sidebar.setEvent();
				
				
			},
			setEvent: function(){
				Z(window)
				.on('resize', Sidebar.callResize)
				.on('scroll', Sidebar.callScroll);
				h3wrap.find('li').each(function(i){
					this.click(function(){
						Z.scrollTop(h3.eq(i).offsetTop() + 4, Z.isIE6 ? 300:500);
						//console.info(h3.eq(i).offsetTop());
					});
				});
			},
			setH3: function(){
				h3 = post.find('h3').each(function(){
					h3wrap.append('<li>'+this.html()+'</li>');
				});
			},
			callResize: function(){
				clearTimeout(reFollowDelay);
				reFollowDelay = setTimeout(function(){
					var rightSpace = (Z.scrollWidth() - post.width())/2;
					if(rightSpace < sidebarWidth + 16){
						if(isShow && isFollow){
							isFollow = false;
							sidebar.css('left:auto');
						}
						
						}else{
						if(isShow){
							sidebar.left(post.offsetLeft() + post.width() + followSpace);
							if(!isFollow){
								isFollow = true;
								
							}
						}
					}
				}, 50);
			},
			callScroll: function(){
				var hitIndex = 0; //?
				h3.each(function(i){
					if(this.offsetTop() < Z.scrollTop()){//???
						hitIndex = i;
					}
				});
				if(hitIndex != focusIndex){
					if(focusIndex > -1){
						h3wrap.find('.focus').cls('-focus');
					}
					focusIndex = hitIndex;
					if(hitIndex > -1){
						h3wrap.find('li').eq(focusIndex).cls('+focus');
					}
				}
				//console.info(hitIndex);
				
			}
		};

	}();
	Sidebar.init();
});
